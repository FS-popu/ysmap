<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="utf-8" />
  <title>ysmap_20251201v</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: "å¾®è»Ÿæ­£é»‘é«”", sans-serif;
    }
    .map-container {
      position: relative;
      width: 1872px;
      height: 1836px;
      background: url('map.png') no-repeat ;
      background-size: contain;
      overflow: hidden;
    }
    .city {
      position: absolute;
      width: 16px;
      height: 16px;
      background-color:transparent;
      border-radius: 50%;
      cursor: pointer;
    }
    .tooltip {
      position: absolute;
      background: white;
      border: ï¼px solid #ccc;
      padding: 8px;
      border-radius: 4px;
      z-index: 10;
    }
	#floatingToggle {
		position: fixed;
		top: 20px;
		left: 20px;
		width: 50px;
		height: 50px;
		border-radius: 50%;
		background: #333;
		color: white;
		font-size: 22px;
		border: none;
		z-index: 1001;
		cursor: pointer;
		box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
	}

	#floatingPanel {
		position: fixed;
		top: 80px;
		left: 20px;
		width: 450px;
		max-height: 70vh;
		overflow-y: auto;
		background: white;
		border: 1px solid #ccc;
		padding: 16px;
		border-radius: 8px;
		z-index: 1000;
		box-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);
	}

	#floatingPanel.hidden {
		display: none;
	}
	
	.filter-header {
  background: #ddd;
  padding: 6px;
  cursor: pointer;
  font-weight: bold;
}

.filter-body {
  padding: 6px;
  display: none;
}
	.city.highlight-guild {
		background-color: rgba(0, 255, 0, 0.8); /* ç¶ è‰²äº®é»æ¨™ç¤ºï¼Œè¢«ç¯©é¸ä¸­çš„ */
		box-shadow: 0 0 6px 2px rgba(0, 255, 0, 0.6); /* å…‰æšˆç‰¹æ•ˆï¼Œçˆ½ */
	}
	.city.dimmed {
		opacity: 0.2;
		pointer-events: none; /* æ»‘é¼ ä¸èƒ½é»ã€ä¸è§¸ç™¼ hover */
	} 
	
	.city.highlighte-date {
		background-color: rgba(255, 0, 0, 0.8); /* ç¶ è‰²äº®é»æ¨™ç¤ºï¼Œè¢«ç¯©é¸ä¸­çš„ */
		 
	}
	.arrow-down {
		position: absolute;
		top: -55px;
		left: 50%;
		transform: translateX(-75%);
		width: 0;
		height: 0;
		border-left: 8px solid transparent;
		border-right: 8px solid transparent;
		border-top: 12px solid red;
		z-index: 5;
		
	}
	
	.city .wave-label {
  position: absolute;
  top: -20px;       /* å¾€ä¸Š */
  left: 20%;
transform: translateX(-80%);
  width: 18px;
  height: 18px;
  background-color: #f5e6c4; /* ç±³è‰² */
  color: #333;
  border-radius: 50%;
  font-size: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  z-index: 5;
}

.city .date-label {
 position: absolute;
  top: -3px;  /* æ‹‰é«˜è·é›¢ï¼Œé¿å…è“‹åˆ°åœ“é» */
  left: 50%;   /* æ°´å¹³ç½®ä¸­ */
  transform: translateX(-75%); /* æ­é… left:50% ä½¿ç”¨ */
  background-color: #d7ebf9;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 12px;
  white-space: nowrap;
  z-index: 5;
}
.hidden-checkbox {
  display: none;
}
.hidden-label {
  display: none;
}
.guild-label {
		position: absolute;
		top: 15px;  /* èª¿æ•´ä½ è¦å®ƒåœ¨ city åœ“é»ä¸‹æ–¹ */
		left: 50%;
		transform: translateX(-75%);
		font-size: 12px;
		color: white;
		background-color: rgba(0, 0, 0, 0.6);
		padding: 2px 5px;
		border-radius: 3px;
		pointer-events: none;
		z-index: 3;
		white-space: nowrap;       /* â— ä¸å…è¨±æ›è¡Œ */
		writing-mode: horizontal-tb; /* â— æ©«è‘—æ’æ–‡å­—ï¼ˆä¿éšªï¼‰ */
		width: auto;               /* â— è‡ªå‹•å¯¬åº¦ï¼Œä¸å¼·åˆ¶å£“ç¸® */
		display: inline-block;     /* â— ç¢ºä¿æ–‡å­—æ©«å‘å±•é–‹ */
		
	}
	.guild-A { /*æš®è‰²æ™¨å…‰ */
	background-color: crimson;
		}

	.guild-B { /*æš®å½±æµ®å…‰ */
		background-color: crimson;
		}
	.guild-C { /*å¤©æ¶¯æµ·é–£ */
		background-color: skyblue;
		}
	.guild-D { /*å½¼å²¸èŠ±é–‹ */
		background-color: darkblue;
		}
	.guild-E { /*å“­æ³£å¤©ä½¿ */
		background-color: darkblue;
		}
	.guild-F { /*ä¸€è¨€ä¸åˆ */
		background-color: darkblue;
		}
	.guild-G { /*åŒ—è‘µå‘æš– */
		background-color: darkblue;
		}
	.guild-I { /*å¤©å¤©ç¡ä¸é£½ãƒ£ */
		background-color: skyblue;
		}
	.guild-J { /*ç”˜å™›ã¿äº­ */
		background-color: goldenrod;
		}
	.guild-K { /*ãƒ©ãƒ¼ãƒ¡ãƒ³ */
		background-color: goldenrod;
		}
	.guild-N { /*Absolve */
		background-color: goldenrod;
		}
	.guild-S { /*í™”ìŒ*/
		background-color: mediumpurple;
		}
		
	.guild-Y { /*ç„¡ */
		background-color: gray;
		}
	.guild-Z {
		background-color: limegreen;
		}


.site-footer {
  width: 1872px; /* ğŸ‘ˆ è·Ÿ .map-container ä¸€æ¨£å¯¬ */
  box-sizing: border-box;
  padding: 40px;
  background-color: #f9f9f9;
  color: #333;
  font-size: 14px;
  text-align: center;
  border-top: 1px solid #ccc;
  position: relative;
  z-index: 10;
}
.back-home {
  position: fixed;
  top: 20px;
  right: 20px;
  background-color: #e8e8e8;
  color: #333;
  padding: 8px 12px;
  border: none;
  border-radius: 6px;
  font-size: 14px;
  cursor: pointer;
  z-index: 999;
  box-shadow: 0 0 6px rgba(0,0,0,0.1);
}
.back-home:hover {
  background-color: #d2d2d2;
}

/* æ¬å®¶é»æ¨£å¼ */
.city .relocate-mark {
  position: absolute;
  top: -36px;
  left: 50%;
  transform: translateX(-75%);
  font-size: 18px;
  color: #007bff;
}

/* é€²æ”»è·¯ç·šç‹€æ…‹åˆ—æ–‡å­—ï¼ˆå¯è‡ªå®šï¼‰ */
#simulationStatus {
  margin-top: 10px;
  font-weight: bold;
}

#pathLayer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none; /* é¿å…æ“‹ä½é»æ“Š */
  z-index: 10;
}

.city .relocate-icon {
 
  position: absolute;
  top: -45px;
  left: 50%;
  transform: translateX(-75%);
  font-size: 18px;
  color: #007bff;
}


  </style>
</head>
<body>
<button class="back-home" onclick="location.href='../../../indexp.html'">
  â¬… å›é¦–é 
</button>
<!-- æ‡¸æµ®æŒ‰éˆ• -->
<button id="floatingToggle" title="ç¯©é¸æ¢ä»¶">âš™</button>

<!-- å½ˆå‡ºå¼ç¯©é¸é¢æ¿ -->
<div id="floatingPanel" class="hidden">
ç¾åœ¨æ—¥æœŸï¼š<span id="now-datetime">N/A</span><br />
ç‰ˆæœ¬è™Ÿï¼š20251201v<br>

æ¨¡æ“¬åŠŸèƒ½ï¼š<button id="toggleSimulation">é–‹å•Ÿæ¨¡æ“¬æ¨¡å¼</button>
<button id="relocateModeBtn" style="display: none;">ğŸ  è¨­å®šæ¬å®¶é»</button>
<button id="undoStep" style="display: none;">ğŸ”™ å›é€€ä¸€æ­¥</button>
<button id="resetSimulation"  style="display: none;">é‡è¨­æ¨¡æ“¬</button>


<div id="simulationStatus" style="margin: 10px 0; font-weight: bold;">
  ç›®å‰é€²æ”»è·¯ç·šï¼š
</div>
  <h3>æ¢ä»¶ç¯©é¸</h3>

<div class="filter-group">
    <div class="filter-header" onclick="toggleFilter(this)">â–¶ å…¬æœƒ</div>
    <div class="filter-body">
      <!-- å…¬æœƒ checkbox é¸é … -->

  <div id="guildFilters">
  <button onclick="selectAll('guildFilters', true)">å…¨é¸</button>
  <button onclick="selectAll('guildFilters', false)">å–æ¶ˆå…¨é¸</button>
  <br>
   <label><input type="checkbox" value="Z">æœªæœ‰</label>
   <br>
   <label><input type="checkbox" value="A">æš®è‰²æ™¨å…‰</label>
   <label><input type="checkbox" value="B">æš®å½±æµ®å…‰</label>
   <label><input type="checkbox" value="C">å¤©æ¶¯æµ·é–£</label>
   <label><input type="checkbox" value="I">å¤©å¤©ç¡ä¸é£½ãƒ£</label>
   <br>
   <label><input type="checkbox" value="D">å½¼å²¸èŠ±é–‹</label>
   <label><input type="checkbox" value="G">åŒ—è‘µå‘æš–</label>
   <label><input type="checkbox" value="E">å“­æ³£å¤©ä½¿</label>
   <label><input type="checkbox" value="F">ä¸€è¨€ä¸åˆ</label>
   <br>
   <label><input type="checkbox" value="H">PUIPUI</label>
   <br>
   <label><input type="checkbox" value="K">ãƒ©ãƒ¼ãƒ¡ãƒ³</label>
   <label><input type="checkbox" value="N">Absolve</label>
   <label><input type="checkbox" value="J">ç”˜å™›ã¿äº­</label>
   <label><input type="checkbox" value="M">Endzero</label>
   <br>
   <label><input type="checkbox" value="AF">OSUSHI</label>
   <br>
   <label><input type="checkbox" value="S">í™”ìŒ</label>
   <label><input type="checkbox" value="R">êµ°ë‹¨</label>
   
    <label class="hidden-label"><input class="hidden-checkbox" type="checkbox" value="O">ë”ë£¨ë‚˜</label>
   <label class="hidden-label"><input class="hidden-checkbox" type="checkbox" value="P">ìˆ˜í˜¸</label>
   <label class="hidden-label"><input class="hidden-checkbox" type="checkbox" value="Q">ëƒ¥ëƒ¥</label>
   <label class="hidden-label"><input class="hidden-checkbox" type="checkbox" value="T">Vitamin</label>
   <label class="hidden-label"><input class="hidden-checkbox" type="checkbox" value="U">ConneQt</label>
   <label class="hidden-label"><input class="hidden-checkbox" type="checkbox" value="V">æD|CKå®¶æ—</label>
   <label class="hidden-label"><input class="hidden-checkbox" type="checkbox" value="X">è¼•é¬†å°å“</label>
   <label class="hidden-label"><input class="hidden-checkbox" type="checkbox" value="W">çŒ©çƒå´›èµ·</label>
   <label class="hidden-label"><input class="hidden-checkbox" type="checkbox" value="L">å…BAN</label>
   <label class="hidden-label"><input class="hidden-checkbox" type="checkbox" value="AA">ç ´ã¡ãƒã‹ã‚ã‡±</label>
   <label class="hidden-label"><input class="hidden-checkbox" type="checkbox" value="AB">é…’å‡¦ã‚€ã¡ã‚€ã¡é­‚</label>
   <label class="hidden-label"><input class="hidden-checkbox" type="checkbox" value="AC">æœˆã®é›«</label>
   <label class="hidden-label"><input class="hidden-checkbox" type="checkbox" value="AD">ã“ã ã¾ã®ã°ã‚‹ã™</label>
   <label class="hidden-label"><input class="hidden-checkbox" type="checkbox" value="AE">æ°´æ›œæ—¥ã®ã‚¢ãƒªã‚¹</label>
   <label class="hidden-label"><input class="hidden-checkbox" type="checkbox" value="AG">æœˆå¤œãƒé»’çŒ«</label>
   <label class="hidden-label"><input class="hidden-checkbox" type="checkbox" value="AH">lonelyç†è«–</label>

   <br>

   <label><input type="checkbox" value="Y">ç„¡</label>
  </div>
      </div>
  </div>
<div class="filter-group">
    <div class="filter-header" onclick="toggleFilter(this)">â–¶ é–‹æ”¾æ—¥æœŸ</div>
    <div class="filter-body">
  <div id="dateFilters">
  <button onclick="selectAll('dateFilters', true)">å…¨é¸</button>
  <button onclick="selectAll('dateFilters', false)">å–æ¶ˆå…¨é¸</button>
  <br>
  <label><input type="checkbox" value="2025/12/5">2025/12/5</label>
  <br>
  <label style="background-color: #ccc;"><input type="checkbox" value="2025/11/28">2025/11/28</label>
   <label style="background-color: #ccc;"><input type="checkbox" value="2025/12/1">2025/12/1</label>
  </div>
 
     </div>
  </div>
  <div class="filter-group">
    <div class="filter-header" onclick="toggleFilter(this)">â–¶ é–‹æ”¾é †åº</div>
    <div class="filter-body">
      <!-- æ³¢æ¬¡ checkbox é¸é … -->
    <div id="waveFilters">
	    <button onclick="selectAll('waveFilters', true)">å…¨é¸</button>
  <button onclick="selectAll('waveFilters', false)">å–æ¶ˆå…¨é¸</button>
  <br>
  <label title="2025/12/5"><input type="checkbox" value="3">3</label> <!--2025/12/5-->
  <br>
    <label title="2025/11/28" style="background-color: #ccc;"><input type="checkbox" value="1">1</label> <!--2025/11/28-->
	<label title="2025/12/1" style="background-color: #ccc;"><input type="checkbox" value="2">2</label> <!--2025/12/1-->
  </div>
     </div>
  </div>

  <button id="closePanel">é—œé–‰</button>
</div>

  <div class="map-container" id="map">
  <!--å¢œæ˜Ÿ-->
    <div class="city" style="top: 204px; left: 949px;" data-state="å¢œæ˜Ÿ" data-name="å¤©ç¥ˆ"  data-status="å·²å®Œæˆ" data-guild="å“­æ³£å¤©ä½¿"  data-guild-id="E" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 216px; left: 1100px;" data-state="å¢œæ˜Ÿ" data-name="ç¢é™¶"  data-status="å·²å®Œæˆ" data-guild="ç”˜å™›ã¿äº­"  data-guild-id="J" data-date="-" data-wave="0"></div>
	<div class="city" style="top: 204px; left: 845px;" data-state="å¢œæ˜Ÿ" data-name="éš•æ± "  data-status="å·²å®Œæˆ" data-guild="ç„¡"  data-guild-id="Y" data-date="-" data-wave="0"></div>
	<div class="city" style="top: 298px; left: 924px;" data-state="å¢œæ˜Ÿ" data-name="é¡æ—"  data-status="å·²å®Œæˆ" data-guild="ë”ë£¨ë‚˜"  data-guild-id="O" data-date="-" data-wave="0"></div>
	<div class="city" style="top: 337px; left: 1149px;" data-state="å¢œæ˜Ÿ" data-name="å¤¢èˆˆ"  data-status="å·²å®Œæˆ" data-guild="ç”˜å™›ã¿äº­"  data-guild-id="J" data-date="-" data-wave="0"></div>
	<div class="city" style="top: 359px; left: 1239px;" data-state="å¢œæ˜Ÿ" data-name="èˆŠç£"  data-status="å·²å®Œæˆ" data-guild="ç”˜å™›ã¿äº­"  data-guild-id="J" data-date="-" data-wave="0"></div>
	<div class="city" style="top: 377px; left: 879px;" data-state="å¢œæ˜Ÿ" data-name="è™¹çŸ³"  data-status="å·²å®Œæˆ" data-guild="æš®è‰²æ™¨å…‰"  data-guild-id="A" data-date="-" data-wave="0"></div>
	<div class="city" style="top: 376px; left: 979px;" data-state="å¢œæ˜Ÿ" data-name="ä¸ƒéœ"  data-status="å·²å®Œæˆ" data-guild="ç”˜å™›ã¿äº­"  data-guild-id="J" data-date="-" data-wave="0"></div>
	<div class="city" style="top: 395px; left: 1070px;" data-state="å¢œæ˜Ÿ" data-name="æ¡€æ™¶"  data-status="å·²å®Œæˆ" data-guild="ç”˜å™›ã¿äº­"  data-guild-id="J" data-date="-" data-wave="0"></div>
  <!--æœ”å´–-->
    <div class="city" style="top: 452px; left: 1352px;" data-state="æœ”å´–" data-name="é›²å“¨"  data-status="å·²å®Œæˆ" data-guild="ãƒ©ãƒ¼ãƒ¡ãƒ³"  data-guild-id="K" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 535px; left: 1261px;" data-state="æœ”å´–" data-name="ç §é›•"  data-status="å·²å®Œæˆ" data-guild="ìˆ˜í˜¸"  data-guild-id="P" data-date="-" data-wave="0"></div>
	<div class="city" style="top: 532px; left: 1382px;" data-state="æœ”å´–" data-name="é¾éª¸"  data-status="å·²å®Œæˆ" data-guild="ãƒ©ãƒ¼ãƒ¡ãƒ³"  data-guild-id="K" data-date="-" data-wave="0"></div>
	<div class="city" style="top: 625px; left: 1236px;" data-state="æœ”å´–" data-name="å¤œæ¯"  data-status="å·²å®Œæˆ" data-guild="ãƒ©ãƒ¼ãƒ¡ãƒ³"  data-guild-id="K" data-date="-" data-wave="0"></div>
	<div class="city" style="top: 603px; left: 1341px;" data-state="æœ”å´–" data-name="éœœå¤©"  data-status="å·²å®Œæˆ" data-guild="ãƒ©ãƒ¼ãƒ¡ãƒ³"  data-guild-id="K" data-date="-" data-wave="0"></div>
	<div class="city" style="top: 625px; left: 1438px;" data-state="æœ”å´–" data-name="å†¬åˆƒ"  data-status="å·²å®Œæˆ" data-guild="ãƒ©ãƒ¼ãƒ¡ãƒ³"  data-guild-id="K" data-date="-" data-wave="0"></div>
	<div class="city" style="top: 703px; left: 1562px;" data-state="æœ”å´–" data-name="éª¨ç¬›"  data-status="å·²å®Œæˆ" data-guild="ëƒ¥ëƒ¥"  data-guild-id="Q" data-date="-" data-wave="0"></div>
	<div class="city" style="top: 640px; left: 1510px;" data-state="æœ”å´–" data-name="éµç¦¦"  data-status="å·²å®Œæˆ" data-guild="ãƒ©ãƒ¼ãƒ¡ãƒ³"  data-guild-id="K" data-date="-" data-wave="0"></div>
	<div class="city" style="top: 545px; left: 1471px;" data-state="æœ”å´–" data-name="é½éˆ"  data-status="å·²å®Œæˆ" data-guild="êµ°ë‹¨"  data-guild-id="R" data-date="-" data-wave="0"></div>
 <!--ç‡¼åŸ-->
    <div class="city" style="top: 757px; left: 1646px;" data-state="ç‡¼åŸ" data-name="ç¼ç©º"  data-status="å·²å®Œæˆ" data-guild="åŒ—è‘µå‘æš–"  data-guild-id="G" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 851px; left: 1699px;" data-state="ç‡¼åŸ" data-name="ç°é‡"  data-status="å·²å®Œæˆ" data-guild="å…BAN"  data-guild-id="L" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 863px; left: 1544px;" data-state="ç‡¼åŸ" data-name="ç„šå¤©"  data-status="å·²å®Œæˆ" data-guild="åŒ—è‘µå‘æš–"  data-guild-id="G" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 915px; left: 1639px;" data-state="ç‡¼åŸ" data-name="å¤œæ¢Ÿ"  data-status="å·²å®Œæˆ" data-guild="åŒ—è‘µå‘æš–"  data-guild-id="G" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 926px; left: 1806px;" data-state="ç‡¼åŸ" data-name="äº¢ç‡­"  data-status="å·²å®Œæˆ" data-guild="åŒ—è‘µå‘æš–"  data-guild-id="G" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 977px; left: 1720px;" data-state="ç‡¼åŸ" data-name="ç‚æ‰"  data-status="å·²å®Œæˆ" data-guild="í™”ìŒ"  data-guild-id="S" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1041px; left: 1670px;" data-state="ç‡¼åŸ" data-name="ç„¦åœŸ"  data-status="å·²å®Œæˆ" data-guild="åŒ—è‘µå‘æš–"  data-guild-id="G" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1007px; left: 1552px;" data-state="ç‡¼åŸ" data-name="ç†”é­‚"  data-status="å·²å®Œæˆ" data-guild="í™”ìŒ"  data-guild-id="S" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1126px; left: 1570px;" data-state="ç‡¼åŸ" data-name="é¢¨å¡”"  data-status="å·²å®Œæˆ" data-guild="í™”ìŒ"  data-guild-id="S" data-date="-" data-wave="0"></div>
  
 <!--ç©¹è°·-->
    <div class="city" style="top: 1239px; left: 1477px;" data-state="ç©¹è°·" data-name="æ˜Ÿå–‰"  data-status="å·²å®Œæˆ" data-guild="ç„¡"  data-guild-id="Y" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1192px; left: 1376px;" data-state="ç©¹è°·" data-name="ç›ˆå…‰"  data-status="å·²å®Œæˆ" data-guild="ç ´ã¡ãƒã‹ã‚ã‡±"  data-guild-id="AA" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1259px; left: 1302px;" data-state="ç©¹è°·" data-name="è½æ˜Ÿ"  data-status="å·²å®Œæˆ" data-guild="æœˆã®é›«"  data-guild-id="AC" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1278px; left: 1378px;" data-state="ç©¹è°·" data-name="ç´¡ç¢‘"  data-status="å·²å®Œæˆ" data-guild="é…’å‡¦ã‚€ã¡ã‚€ã¡é­‚"  data-guild-id="AB" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1381px; left: 1381px;" data-state="ç©¹è°·" data-name="é³´æ—"  data-status="å·²å®Œæˆ" data-guild="ç ´ã¡ãƒã‹ã‚ã‡±"  data-guild-id="AA" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1482px; left: 1291px;" data-state="ç©¹è°·" data-name="è‹”æ¹–"  data-status="å·²å®Œæˆ" data-guild="ã“ã ã¾ã®ã°ã‚‹ã™"  data-guild-id="AD" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1446px; left: 1200px;" data-state="ç©¹è°·" data-name="ç•Œè«­"  data-status="å·²å®Œæˆ" data-guild="å½¼å²¸èŠ±é–‹"  data-guild-id="D" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1332px; left: 1189px;" data-state="ç©¹è°·" data-name="æµ®ç¾½"  data-status="å·²å®Œæˆ" data-guild="å½¼å²¸èŠ±é–‹"  data-guild-id="D" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1338px; left: 1280px;" data-state="ç©¹è°·" data-name="å¦‚ç³"  data-status="å·²å®Œæˆ" data-guild="å½¼å²¸èŠ±é–‹"  data-guild-id="D" data-date="-" data-wave="0"></div>
  <!--éš•éš™-->
    <div class="city" style="top: 1477px; left: 1070px;" data-state="éš•éš™" data-name="æ­¸è™›"  data-status="å·²å®Œæˆ" data-guild="å¤©å¤©ç¡ä¸é£½ãƒ£"  data-guild-id="I" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1621px; left: 1096px;" data-state="éš•éš™" data-name="ç„¡æ™‚"  data-status="å·²å®Œæˆ" data-guild="ConneQt"  data-guild-id="U" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1580px; left: 994px;" data-state="éš•éš™" data-name="ç•¸å·§"  data-status="å·²å®Œæˆ" data-guild="æD|CKå®¶æ—"  data-guild-id="V" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1769px; left: 950px;" data-state="éš•éš™" data-name="æœªå®š"  data-status="å·²å®Œæˆ" data-guild="ConneQt"  data-guild-id="U" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1671px; left: 926px;" data-state="éš•éš™" data-name="æ’è¼"  data-status="å·²å®Œæˆ" data-guild="Endzero"  data-guild-id="M" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1632px; left: 804px;" data-state="éš•éš™" data-name="è£‚å¹»"  data-status="å·²å®Œæˆ" data-guild="Endzero"  data-guild-id="M" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1546px; left: 819px;" data-state="éš•éš™" data-name="æµç†µ"  data-status="å·²å®Œæˆ" data-guild="Endzero"  data-guild-id="M" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1445px; left: 782px;" data-state="éš•éš™" data-name="ç•Œæ©‹"  data-status="å·²å®Œæˆ" data-guild="æ°´æ›œæ—¥ã®ã‚¢ãƒªã‚¹"  data-guild-id="AE" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1450px; left: 694px;" data-state="éš•éš™" data-name="å…‰é„"  data-status="å·²å®Œæˆ" data-guild="æ°´æ›œæ—¥ã®ã‚¢ãƒªã‚¹"  data-guild-id="AE" data-date="-" data-wave="0"></div>
  
   <!--å¯‚å¶¼-->
    <div class="city" style="top: 1438px; left: 621px;" data-state="å¯‚å¶¼" data-name="æš—æ—Œ"  data-status="å·²å®Œæˆ" data-guild="å¤©æ¶¯æµ·é–£"  data-guild-id="C" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1331px; left: 678px;" data-state="å¯‚å¶¼" data-name="å¢Ÿäº•"  data-status="å·²å®Œæˆ" data-guild="å¤©æ¶¯æµ·é–£"  data-guild-id="C" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1298px; left: 567px;" data-state="å¯‚å¶¼" data-name="è£‚è¹„"  data-status="å·²å®Œæˆ" data-guild="ç„¡"  data-guild-id="Y" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1252px; left: 623px;" data-state="å¯‚å¶¼" data-name="è•æ˜Ÿ"  data-status="å·²å®Œæˆ" data-guild="å¤©æ¶¯æµ·é–£"  data-guild-id="C" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1171px; left: 590px;" data-state="å¯‚å¶¼" data-name="å¹½å¤œ"  data-status="å·²å®Œæˆ" data-guild="PUIPUI"  data-guild-id="H" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1277px; left: 476px;" data-state="å¯‚å¶¼" data-name="å½±æ·’"  data-status="å·²å®Œæˆ" data-guild="Vitamin"  data-guild-id="T" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1209px; left: 470px;" data-state="å¯‚å¶¼" data-name="å¤œè‹”"  data-status="å·²å®Œæˆ" data-guild="OSUSHI"  data-guild-id="AF" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1123px; left: 474px;" data-state="å¯‚å¶¼" data-name="å¢¨ç¾½"  data-status="å·²å®Œæˆ" data-guild="è¼•é¬†å°å“"  data-guild-id="X" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1176px; left: 363px;" data-state="å¯‚å¶¼" data-name="è¿·å› "  data-status="å·²å®Œæˆ" data-guild="OSUSHI"  data-guild-id="AF" data-date="-" data-wave="0"></div>
  
<!--ç¿å·-->
    <div class="city" style="top: 1092px; left: 253px;" data-state="ç¿å·" data-name="æ¸¡éœ"  data-status="å·²å®Œæˆ" data-guild="OSUSHI"  data-guild-id="AF" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1026px; left: 403px;" data-state="ç¿å·" data-name="å¦‚è‹±"  data-status="å·²å®Œæˆ" data-guild="Absolve"  data-guild-id="N" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1017px; left: 284px;" data-state="ç¿å·" data-name="é¢¨åŸ"  data-status="å·²å®Œæˆ" data-guild="æœˆå¤œãƒé»’çŒ«"  data-guild-id="AG" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 919px; left: 131px;" data-state="ç¿å·" data-name="ç¢§å¶¼"  data-status="å·²å®Œæˆ" data-guild="Absolve"  data-guild-id="N" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 895px; left: 299px;" data-state="ç¿å·" data-name="é–‹æ‹“"  data-status="å·²å®Œæˆ" data-guild="Absolve"  data-guild-id="N" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 824px; left: 189px;" data-state="ç¿å·" data-name="å±•ç¿¼"  data-status="å·²å®Œæˆ" data-guild="çŒ©çƒå´›èµ·"  data-guild-id="W" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 757px; left: 295px;" data-state="ç¿å·" data-name="ç¹”æ¢­"  data-status="å·²å®Œæˆ" data-guild="Absolve"  data-guild-id="N" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 769px; left: 404px;" data-state="ç¿å·" data-name="å°‹ç¾½"  data-status="å·²å®Œæˆ" data-guild="æœˆå¤œãƒé»’çŒ«"  data-guild-id="AG" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 856px; left: 409px;" data-state="ç¿å·" data-name="æ°¸èª“"  data-status="å·²å®Œæˆ" data-guild="Absolve"  data-guild-id="N" data-date="-" data-wave="0"></div>
 <!--è£æ·µ-->
    <div class="city" style="top: 639px; left: 471px;" data-state="è£æ·µ" data-name="æ–·åŠ"  data-status="å·²å®Œæˆ" data-guild="ç„¡"  data-guild-id="Y" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 647px; left: 597px;" data-state="è£æ·µ" data-name="ç¢æœˆ"  data-status="å·²å®Œæˆ" data-guild="lonelyç†è«–"  data-guild-id="AH" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 611px; left: 694px;" data-state="è£æ·µ" data-name="é¾æ±º"  data-status="å·²å®Œæˆ" data-guild="ä¸€è¨€ä¸åˆ"  data-guild-id="F" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 505px; left: 763px;" data-state="è£æ·µ" data-name="æ·µé™µ"  data-status="å·²å®Œæˆ" data-guild="å“­æ³£å¤©ä½¿"  data-guild-id="E" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 513px; left: 635px;" data-state="è£æ·µ" data-name="å·¨éˆ"  data-status="å·²å®Œæˆ" data-guild="å“­æ³£å¤©ä½¿"  data-guild-id="E" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 496px; left: 525px;" data-state="è£æ·µ" data-name="å¤œå¨¥"  data-status="å·²å®Œæˆ" data-guild="ç„¡"  data-guild-id="Y" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 396px; left: 679px;" data-state="è£æ·µ" data-name="ç½ªéƒ¡"  data-status="å·²å®Œæˆ" data-guild="ç„¡"  data-guild-id="Y" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 398px; left: 798px;" data-state="è£æ·µ" data-name="å‡œé¢¨"  data-status="å·²å®Œæˆ" data-guild="ç„¡"  data-guild-id="Y" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 262px; left: 750px;" data-state="è£æ·µ" data-name="ç©¢åœŸ"  data-status="å·²å®Œæˆ" data-guild="å“­æ³£å¤©ä½¿"  data-guild-id="E" data-date="-" data-wave="0"></div>
  
<!--å¤©æ¨-->
    <div class="city" style="top: 1083px; left: 701px;" data-state="å¤©æ¨" data-name="æ™¯çœ "  data-status="å·²å®Œæˆ" data-guild="å¤©æ¶¯æµ·é–£"  data-guild-id="C" data-date="2025/12/1" data-wave="2"></div>
    <div class="city" style="top: 1069px; left: 630px;" data-state="å¤©æ¨" data-name="å®™é¡˜"  data-status="å·²å®Œæˆ" data-guild="å¤©æ¶¯æµ·é–£"  data-guild-id="C" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1029px; left: 513px;" data-state="å¤©æ¨" data-name="è¼é‡"  data-status="å·²å®Œæˆ" data-guild="Absolve"  data-guild-id="N" data-date="2025/11/28" data-wave="1"></div>
    <div class="city" style="top: 945px; left: 616px;" data-state="å¤©æ¨" data-name="çµ•è¾°"  data-status="å·²å®Œæˆ" data-guild="å¤©æ¶¯æµ·é–£"  data-guild-id="C" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 951px; left: 708px;" data-state="å¤©æ¨" data-name="æ˜Ÿè»Œ"  data-status="å·²å®Œæˆ" data-guild="PUIPUI"  data-guild-id="H" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 836px; left: 698px;" data-state="å¤©æ¨" data-name="å¹½å…‰"  data-status="å·²å®Œæˆ" data-guild="å¤©æ¶¯æµ·é–£"  data-guild-id="C" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 854px; left: 527px;" data-state="å¤©æ¨" data-name="é‚ƒé©›"  data-status="å·²å®Œæˆ" data-guild="Absolve"  data-guild-id="N" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 785px; left: 595px;" data-state="å¤©æ¨" data-name="æ™´ç£"  data-status="å·²å®Œæˆ" data-guild="å¤©æ¶¯æµ·é–£"  data-guild-id="C" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 731px; left: 753px;" data-state="å¤©æ¨" data-name="æ™·è¯"  data-status="æœªå®Œæˆ" data-guild="æœªæœ‰"  data-guild-id="Z" data-date="2025/12/5" data-wave="3"></div>
  
<!--é›²æ¾¤-->
    <div class="city" style="top: 503px; left: 932px;" data-state="é›²æ¾¤" data-name="ç¦±éšœ"  data-status="å·²å®Œæˆ" data-guild="æš®è‰²æ™¨å…‰"  data-guild-id="A" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 510px; left: 1045px;" data-state="é›²æ¾¤" data-name="è¾°å°"  data-status="å·²å®Œæˆ" data-guild="æš®å½±æµ®å…‰"  data-guild-id="B" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 494px; left: 1126px;" data-state="é›²æ¾¤" data-name="æ·»èŠ’"  data-status="å·²å®Œæˆ" data-guild="æš®å½±æµ®å…‰"  data-guild-id="B" data-date="2025/11/28" data-wave="1"></div>
    <div class="city" style="top: 594px; left: 964px;" data-state="é›²æ¾¤" data-name="å®‡ç„°"  data-status="å·²å®Œæˆ" data-guild="æš®å½±æµ®å…‰"  data-guild-id="B" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 580px; left: 1092px;" data-state="é›²æ¾¤" data-name="æ¥µé—œ"  data-status="å·²å®Œæˆ" data-guild="æš®è‰²æ™¨å…‰"  data-guild-id="A" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 639px; left: 886px;" data-state="é›²æ¾¤" data-name="æ·©é‹’"  data-status="å·²å®Œæˆ" data-guild="æš®è‰²æ™¨å…‰"  data-guild-id="A" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 676px; left: 1024px;" data-state="é›²æ¾¤" data-name="å¤©éƒ½"  data-status="å·²å®Œæˆ" data-guild="æš®è‰²æ™¨å…‰"  data-guild-id="A" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 688px; left: 1130px;" data-state="é›²æ¾¤" data-name="æ—­é™½"  data-status="å·²å®Œæˆ" data-guild="æš®å½±æµ®å…‰"  data-guild-id="B" data-date="2025/12/1" data-wave="2"></div>
    <div class="city" style="top: 723px; left: 962px;" data-state="é›²æ¾¤" data-name="é›²å¢ƒ"  data-status="æœªå®Œæˆ" data-guild="æœªæœ‰"  data-guild-id="Z" data-date="2025/12/5" data-wave="3"></div>
  
<!--å¤©é‡-->
    <div class="city" style="top: 725px; left: 1295px;" data-state="å¤©é‡" data-name="é­‚ç¢‘"  data-status="å·²å®Œæˆ" data-guild="í™”ìŒ"  data-guild-id="S" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 725px; left: 1417px;" data-state="å¤©é‡" data-name="é›²å¼“"  data-status="å·²å®Œæˆ" data-guild="ãƒ©ãƒ¼ãƒ¡ãƒ³"  data-guild-id="K" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 820px; left: 1388px;" data-state="å¤©é‡" data-name="éºç¿"  data-status="å·²å®Œæˆ" data-guild="í™”ìŒ"  data-guild-id="S" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 901px; left: 1302px;" data-state="å¤©é‡" data-name="ç ´æ›‰"  data-status="å·²å®Œæˆ" data-guild="í™”ìŒ"  data-guild-id="S" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 902px; left: 1457px;" data-state="å¤©é‡" data-name="æ–·éª¨"  data-status="å·²å®Œæˆ" data-guild="í™”ìŒ"  data-guild-id="S" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 985px; left: 1408px;" data-state="å¤©é‡" data-name="ç¥éª¸"  data-status="æœªå®Œæˆ" data-guild="æœªæœ‰"  data-guild-id="Z" data-date="2025/12/5" data-wave="3"></div>
    <div class="city" style="top: 1007px; left: 1314px;" data-state="å¤©é‡" data-name="ç¦¦é™£"  data-status="å·²å®Œæˆ" data-guild="êµ°ë‹¨"  data-guild-id="R" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1086px; left: 1376px;" data-state="å¤©é‡" data-name="åŠä¸˜"  data-status="å·²å®Œæˆ" data-guild="åŒ—è‘µå‘æš–"  data-guild-id="G" data-date="2025/11/28" data-wave="1"></div>
    <div class="city" style="top: 1105px; left: 1296px;" data-state="å¤©é‡" data-name="è¾²ç›ˆ"  data-status="å·²å®Œæˆ" data-guild="åŒ—è‘µå‘æš–"  data-guild-id="G" data-date="2025/12/1" data-wave="2"></div>
  
<!--é›²å£-->
    <div class="city" style="top: 1199px; left: 1203px;" data-state="é›²å£" data-name="é‡‘é™µ"  data-status="å·²å®Œæˆ" data-guild="å½¼å²¸èŠ±é–‹"  data-guild-id="D" data-date="2025/11/28" data-wave="1"></div>
    <div class="city" style="top: 1295px; left: 1105px;" data-state="é›²å£" data-name="é›²æ¸¯"  data-status="å·²å®Œæˆ" data-guild="å½¼å²¸èŠ±é–‹"  data-guild-id="D" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1183px; left: 1030px;" data-state="é›²å£" data-name="æµ£æºª"  data-status="å·²å®Œæˆ" data-guild="Endzero"  data-guild-id="M" data-date="2025/12/1" data-wave="2"></div>
    <div class="city" style="top: 1185px; left: 939px;" data-state="é›²å£" data-name="æœªå¤®"  data-status="æœªå®Œæˆ" data-guild="æœªæœ‰"  data-guild-id="Z" data-date="2025/12/5" data-wave="3"></div>
    <div class="city" style="top: 1317px; left: 943px;" data-state="é›²å£" data-name="å¤©æ"  data-status="å·²å®Œæˆ" data-guild="Endzero"  data-guild-id="M" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1409px; left: 903px;" data-state="é›²å£" data-name="è¯è£³"  data-status="å·²å®Œæˆ" data-guild="å½¼å²¸èŠ±é–‹"  data-guild-id="D" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1250px; left: 838px;" data-state="é›²å£" data-name="èŠ±èˆŸ"  data-status="å·²å®Œæˆ" data-guild="æœˆã®é›«"  data-guild-id="AC" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1126px; left: 828px;" data-state="é›²å£" data-name="æµ®æ­Œ"  data-status="å·²å®Œæˆ" data-guild="å½¼å²¸èŠ±é–‹"  data-guild-id="D" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1184px; left: 702px;" data-state="é›²å£" data-name="æ°´æœˆ"  data-status="å·²å®Œæˆ" data-guild="Endzero"  data-guild-id="M" data-date="-" data-wave="0"></div>
  
<!--ç¿¼éƒ½-->
    <div class="city" style="top: 840px; left: 986px;" data-state="ç¿¼éƒ½" data-name="ç‰å£˜"  data-status="å·²å®Œæˆ" data-guild="æš®è‰²æ™¨å…‰"  data-guild-id="A" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 900px; left: 820px;" data-state="ç¿¼éƒ½" data-name="ç´å·"  data-status="å·²å®Œæˆ" data-guild="å¤©æ¶¯æµ·é–£"  data-guild-id="C" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 937px; left: 1146px;" data-state="ç¿¼éƒ½" data-name="ç¾½åº­"  data-status="å·²å®Œæˆ" data-guild="í™”ìŒ"  data-guild-id="S" data-date="-" data-wave="0"></div>
    <div class="city" style="top: 1029px; left: 895px;" data-state="ç¿¼éƒ½" data-name="å¤©ç’¿"  data-status="å·²å®Œæˆ" data-guild="å¤©æ¶¯æµ·é–£"  data-guild-id="C" data-date="2025/11/28" data-wave="1"></div>
    <div class="city" style="top: 854px; left: 1190px;" data-state="ç¿¼éƒ½" data-name="ç„å„€"  data-status="å·²å®Œæˆ" data-guild="æš®è‰²æ™¨å…‰"  data-guild-id="A" data-date="2025/11/28" data-wave="1"></div>
    <div class="city" style="top: 776px; left: 1095px;" data-state="ç¿¼éƒ½" data-name="é–‹é™½"  data-status="å·²å®Œæˆ" data-guild="æš®è‰²æ™¨å…‰"  data-guild-id="A" data-date="2025/12/1" data-wave="2"></div>
    <div class="city" style="top: 1062px; left: 1083px;" data-state="ç¿¼éƒ½" data-name="è–ç¦¦"  data-status="æœªå®Œæˆ" data-guild="æœªæœ‰"  data-guild-id="Z" data-date="2025/12/5" data-wave="3"></div>
    <div class="city" style="top: 1079px; left: 1194px;" data-state="ç¿¼éƒ½" data-name="ç¥é—œ"  data-status="å·²å®Œæˆ" data-guild="í™”ìŒ"  data-guild-id="S" data-date="2025/12/1" data-wave="2"></div>
    <div class="city" style="top: 951px; left: 991px;" data-state="ç¿¼éƒ½" data-name="å¸ç¿¼"  data-status="æœªå®Œæˆ" data-guild="æœªæœ‰"  data-guild-id="Z" data-date="2025/12/5" data-wave="3"></div>



  <!--åŸæ± è³‡è¨Š-->
	<div class="tooltip" id="tooltip"></div>
  <!--æ¨¡æ“¬è·¯ç·šåœ–å±¤-->
<svg id="pathLayer" width="100%" height="100%" style="position:absolute; top:0; left:0; pointer-events:none; z-index:4;">
  <defs>
    <!-- æ­£å¸¸æ”»æ“Šç·šç”¨çš„ç´…è‰²ç®­é ­ -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,3.5 L0,7 Z" fill="red" />
    </marker>

    <!-- æ¬å®¶ç·šç”¨çš„è—è‰²ç®­é ­ -->
    <marker id="move-arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,3.5 L0,7 Z" fill="blue" />
    </marker>
  </defs>
</svg>


	
  </div>

<footer class="site-footer">
  <h3>é–‹ç™¼è€…ç­†è¨˜</h3>
  <p>åœ°åœ–æ˜¯æ‰‹å‹•æ¨™è¨˜è£½ä½œï¼Œè‹¥æœ‰éŒ¯èª¤è«‹é£›é´¿å‚³æ›¸å›å ±</p>
  <p>æœ¬é ç‰ˆæœ¬ç‚º2025/12/01</p>

  
</footer>



<script>
//å…¬æœƒç¯©é¸
const guildid = document.querySelectorAll(".city");
const checkboxes = document.querySelectorAll("#guildFilters input[type='checkbox']");

checkboxes.forEach(checkbox => {
  checkbox.addEventListener("change", applyGuildFilters);
});

const guildNameMap = {
  "A": "æš®è‰²æ™¨å…‰",
  "B": "æš®å½±æµ®å…‰",
  "C": "å¤©æ¶¯æµ·é–£",
  "D": "å½¼å²¸èŠ±é–‹",
  "E": "å“­æ³£å¤©ä½¿",
  "F": "ä¸€è¨€ä¸åˆ",
  "G": "åŒ—è‘µå‘æš–",
  "H": "PUIPUI",
  "I": "å¤©å¤©ç¡ä¸é£½ãƒ£",
  "J": "ç”˜å™›ã¿äº­",
  "K": "ãƒ©ãƒ¼ãƒ¡ãƒ³",
  "L": "å…BAN",
  "M": "Endzero",
  "N": "Absolve",
  "O": "ë”ë£¨ë‚˜",
  "P": "ìˆ˜í˜¸",
  "Q": "ëƒ¥ëƒ¥",
  "R": "êµ°ë‹¨",
  "S": "í™”ìŒ",
  "T": "Vitamin",
  "U": "ConneQt",
  "V": "æD|CKå®¶æ—",
  "W": "çŒ©çƒå´›èµ·",
  "X": "è¼•é¬†å°å“",
  "Y": "ç„¡",
  "Z": "æœªæœ‰",
  "AA": "ç ´ã¡ãƒã‹ã‚ã‡±",
  "AB": "é…’å‡¦ã‚€ã¡ã‚€ã¡é­‚",
  "AC": "æœˆã®é›«",
  "AD": "ã“ã ã¾ã®ã°ã‚‹ã™",
  "AE": "æ°´æ›œæ—¥ã®ã‚¢ãƒªã‚¹",
  "AF": "OSUSHI",
  "AG": "æœˆå¤œãƒé»’çŒ«",
  "AH": "lonelyç†è«–",

};


function applyGuildFilters() {
  const selectedStatuses = Array.from(checkboxes)
    .filter(cb => cb.checked)
    .map(cb => cb.value);

  guildid.forEach(city => {
    const status = city.dataset.guildId;

    const isVisible = selectedStatuses.includes(status);

/*æ‰“å…‰é»
  if (selectedStatuses.includes(status)) {
      city.classList.add("highlight-guild");
	  
	  
    } else {
      city.classList.remove("highlight-guild");
    }
*/
	
	let label = city.querySelector('.guild-label');

    if (isVisible) {
      // æ²’æœ‰ label æ‰æ–°å¢ï¼Œé¿å…é‡è¤‡åŠ 
      if (!label) {
        const newLabel = document.createElement('div');
         newLabel.classList.add('guild-label',`guild-${status}`);
        newLabel.innerText = guildNameMap[status] || status;
        city.appendChild(newLabel);
		console.log(`label class = guild-${status}`);
      }
    } 
	else {
      // å¦‚æœå·²ç¶“æœ‰ label ä¸”ä¸è©²é¡¯ç¤ºï¼Œå°±ç§»é™¤
      if (label) {
        label.remove();
		}
	  }
	  
  });
  
}


 

</script>

<script>
//æ—¥æœŸç¯©é¸
const date = document.querySelectorAll(".city");
const datecheckboxes = document.querySelectorAll("#dateFilters input[type='checkbox']");

datecheckboxes.forEach(checkbox => {
  checkbox.addEventListener("change", applyDateFilters);
});



function applyDateFilters() {
  const selecteddate = Array.from(datecheckboxes)
    .filter(cb => cb.checked)
    .map(cb => cb.value);

  date.forEach(city => {
    const status2 = city.dataset.date;

    const isVisible2 = selecteddate.includes(status2);

/*æ‰“å…‰é»
  if (selecteddate.includes(status2)) {
      city.classList.add("highlighte-date");
    } else {
      city.classList.remove("highlighte-date");
    }
	*/
//é¡¯ç¤ºæ—¥æœŸ
	const datev = city.dataset.date;
let label = city.querySelector('.date-label');

if (selecteddate.includes(datev)) {
  if (!label) {
    const newLabel = document.createElement('div');
    newLabel.classList.add('date-label');
    newLabel.innerText = datev;
    city.appendChild(newLabel);
  }
} else {
  if (label) {
    label.remove();
  }
}

	
  });
}

</script>

<script>
//æ³¢æ¬¡ç¯©é¸
const wave = document.querySelectorAll(".city");
const wavecheckboxes = document.querySelectorAll("#waveFilters input[type='checkbox']");

wavecheckboxes.forEach(checkbox => {
  checkbox.addEventListener("change", applyWaveFilters);
});


function applyWaveFilters() {
  const selectedwave = Array.from(wavecheckboxes)
    .filter(cb => cb.checked)
    .map(cb => cb.value);

  wave.forEach(city => {
    const status3 = city.dataset.wave;
    const isVisible3 = selectedwave.includes(status3);
	

/*é¡¯ç¤ºç®­é ­
  if (selectedwave.includes(status3)) {
	const arrow = document.createElement('div');
	arrow.classList.add('arrow-down'); // ğŸ‘ˆ ç®­é ­çš„ class åŠ åœ¨ç®­é ­èº«ä¸Š
	city.appendChild(arrow);           // ğŸ‘ˆ ç®­é ­åŠ é€²åŸå¸‚é»è£¡é¢

    } else {
     const existingArrow = city.querySelector('.arrow-down');
if (existingArrow) {
  existingArrow.remove(); // ğŸ‘ˆ ä¸€åˆ€åˆ‡æ‰ç®­é ­ï¼Œä¸ç•™å¾Œæ‚£
}
    }
	*/
	//é¡¯ç¤ºæ³¢æ¬¡
	const wavev= city.dataset.wave;
let label = city.querySelector('.wave-label');

if (selectedwave.includes(wavev)) {
  if (!label) {
    const newLabel = document.createElement('div');
    newLabel.classList.add('wave-label');
    newLabel.innerText = wavev;
    city.appendChild(newLabel);
  }
} else {
  if (label) {
    label.remove();
  }
}

	
  });
  }



</script>

<script>
//ç¯©é¸å™¨å°æ‡‰
const filterHandlers = {
  guildFilters: applyGuildFilters,
  dateFilters: applyDateFilters,
  waveFilters: applyWaveFilters,
};

//å…¨é¸/å–æ¶ˆå…¨é¸
function selectAll(containerId, check) {
  const container = document.getElementById(containerId);
  const checkboxes = container.querySelectorAll('input[type="checkbox"]');

  checkboxes.forEach(cb => cb.checked = check);

 const handler = filterHandlers[containerId];
  if (typeof handler === 'function') {
    handler();
  } else {
    console.warn(`âš ï¸ æ‰¾ä¸åˆ° ${containerId} å°æ‡‰çš„ç¯©é¸è™•ç†å™¨`);
  }

}
</script>

  <script>
  //åŸæ± è³‡è¨Š
    const tooltip = document.getElementById("tooltip");
    const cities = document.querySelectorAll(".city");

   cities.forEach((city) => {
  city.addEventListener("mouseenter", (e) => {
    const rect = city.getBoundingClientRect();

    tooltip.innerHTML = `<strong>${city.dataset.name}</strong><br>Status: ${city.dataset.status}<br>ä½”é ˜å…¬æœƒ: ${city.dataset.guild}<br>é–‹æ”¾æ™‚é–“ï¼š${city.dataset.date}`;
    tooltip.style.display = "block";
    tooltip.style.top = `${rect.top + window.scrollY - 40}px`;
    tooltip.style.left = `${rect.left + window.scrollX + 20}px`;
  });

  city.addEventListener("mouseleave", () => {
    tooltip.style.display = "none";
  });
});
  </script>

<script>
//æµ®å‹•æŸ¥è©¢å™¨é¢æ¿
const toggleBtn = document.getElementById("floatingToggle");
const panel = document.getElementById("floatingPanel");
const closeBtn = document.getElementById("closePanel");

toggleBtn.addEventListener("click", () => {
  panel.classList.toggle("hidden");
});

closeBtn.addEventListener("click", () => {
  panel.classList.add("hidden");
});

//é¢æ¿å…§é¸é …å±•é–‹
function toggleFilter(header) {
  const body = header.nextElementSibling;
  body.style.display = body.style.display === 'none' ? 'block' : 'none';
}

</script>

<script>
//åº§æ¨™å®šä½

  const map = document.getElementById("map");
  console.log("æŠ“åˆ°åœ°åœ–äº†å—ï¼Ÿ", map);

  if (!map) {
    console.error("æ‰¾ä¸åˆ°åœ°åœ–å…ƒç´ ï¼è«‹ç¢ºèª id='map' æ˜¯å¦å­˜åœ¨ä¸¦åœ¨æ­¤ script ä¹‹å‰è¼‰å…¥");
  } else {
    map.addEventListener("click", function (e) {
      const rect = map.getBoundingClientRect();
      const x = Math.round(e.clientX - rect.left);
      const y = Math.round(e.clientY - rect.top);
      console.log(`left: ${x}px; top: ${y}px`);
    });
  }
</script>


<script>
//æ¨¡æ“¬åŠŸèƒ½


//é–‹é—œ
let isSimulationMode = false;

document.getElementById("toggleSimulation").addEventListener("click", () => {
  isSimulationMode = !isSimulationMode;

  const btn = document.getElementById("toggleSimulation");
  btn.innerText = isSimulationMode ? "ğŸ”š çµæŸæ¨¡æ“¬æ¨¡å¼" : "â–¶ï¸ é–‹å•Ÿæ¨¡æ“¬æ¨¡å¼";
  
   // é¡¯ç¤º/éš±è—é‡è¨­æŒ‰éˆ•
  resetSimulation.style.display = isSimulationMode ? "inline-block" : "none";
  undoStep.style.display = isSimulationMode ? "inline-block" : "none";
  relocateModeBtn.style.display = isSimulationMode ? "inline-block" : "none";

  // è‡ªå‹• reset æ¨¡æ“¬ç‹€æ…‹
  if (!isSimulationMode) {
    selectedCities.length = 0;

    const svgr = document.getElementById("pathLayer");
svgr.querySelectorAll("svg.arrow-path").forEach(el => el.remove());
svgr.querySelectorAll("svg.arrow-path, line").forEach(el => el.remove());

    const statusBar = document.getElementById("simulationStatus");
    if (statusBar) statusBar.innerText = "ç›®å‰é€²æ”»è·¯ç·šï¼š";
	
	  // âœ… ä¸€å®šè¦åŠ é€™è¡Œ
  isRelocateMode = false;
  document.querySelectorAll(".relocate-icon").forEach(icon => icon.remove());
relocateModeBtn.innerText = "ğŸ  æ¬å®¶æ¨¡å¼";

  
  
  }
});



//ç¢ºèªè¢«é»æ“Šçš„åŸå¸‚æœ‰è¢«æ”¶é€²é™£åˆ—
const selectedCities = [];

const cities2 = document.querySelectorAll(".city");

cities2.forEach(city => {
  city.addEventListener("click", () => {
    if (!isSimulationMode) return;

    // ğŸ  æ¬å®¶æ¨¡å¼
    if (isRelocateMode) {
      if (!city.querySelector(".relocate-icon")) {
        const icon = document.createElement("div");
        icon.classList.add("relocate-icon");
        icon.innerText = "ğŸ ";
        city.appendChild(icon);
      }

      selectedCities.push({
        element: city,
        isRelocate: true
      });

      isRelocateMode = false;
      relocateModeBtn.innerText = "ğŸ  è¨­å®šæ¬å®¶é»"; // è‡ªå‹•åˆ‡å›æ–‡å­—

       const len = selectedCities.length;
    if (len >= 2) {
      console.log("ğŸ“¦ æ¬å®¶æ¨¡å¼ç•«ç®­é ­", selectedCities[len - 2], selectedCities[len - 1]);
      drawArrowBetween(selectedCities[len - 2], selectedCities[len - 1]);
    }

    updateSimulationStatus();
    return; // â¬…ï¸ ä¸€å®šè¦ returnï¼Œä¸ç„¶æœƒç¹¼çºŒå¾€ä¸‹è·‘é€²æ”»é‚è¼¯
  }

    // âš”ï¸ ä¸€èˆ¬é€²æ”»æ¨¡å¼
    selectedCities.push({
      element: city,
      isRelocate: isRelocateMode
    });

const len = selectedCities.length;
if (len >= 2) {
  console.log("ğŸ§ª drawArrowBetween è¢«å‘¼å«ï¼š", selectedCities[len - 2], selectedCities[len - 1]);
  drawArrowBetween(selectedCities[len - 2], selectedCities[len - 1]);
}
/*
    if (selectedCities.length >= 2) {
      drawArrowBetween(
        selectedCities[selectedCities.length - 2],
        selectedCities[selectedCities.length - 1]
      );
    }
*/
    updateSimulationStatus();
  });
});



/*
cities2.forEach(city => {
  city.addEventListener("click", () => {
    if (!isSimulationMode) return; // âŒ æ¨¡æ“¬æ²’é–‹å°±ä¸è™•ç†é»æ“Š
    //if (selectedCities.includes(city)) return; //é˜²æ­¢é‡è¤‡é»æ“Šï¼Œå› å¯èƒ½å›æ¬æ‰€ä»¥é—œé–‰æ­¤åŠŸèƒ½

    selectedCities.push(city);
	
	 if (selectedCities.length >= 2) {
      const from = selectedCities[selectedCities.length - 2];
      const to = selectedCities[selectedCities.length - 1];
      drawArrowBetween(from, to);
    }

    console.log("ç›®å‰å·²é¸åŸå¸‚ï¼š", selectedCities.map(el => el.dataset.name));
	updateSimulationStatus(); // ğŸ‘ˆ æ¯æ¬¡é»æ“Šå¾Œæ›´æ–°ç‹€æ…‹åˆ—
  });
 
});


//é¡¯ç¤ºç‹€æ…‹
function updateSimulationStatus() {
  const statusBar = document.getElementById("simulationStatus");

  if (!statusBar) return;

  const pathText = selectedCities.map(city => city.dataset.name).join(" â ");
  statusBar.innerText = `ç›®å‰é€²æ”»è·¯ç·šï¼š${pathText}`;
}

*/
//ç•«ç®­é ­
function drawArrowBetween(from, to) {
  if (!from || !to) return;
  const fromEl = from.element;
const toEl = to.element;

 const fromRect = from.element.getBoundingClientRect();
  const toRect = to.element.getBoundingClientRect();
  const mapRect = map.getBoundingClientRect();

  // ç®—å‡ºä¸­å¿ƒé»åº§æ¨™ï¼ˆç›¸å°æ–¼åœ°åœ–ï¼‰
  const startX = fromRect.left + fromRect.width / 2 - mapRect.left;
  const startY = fromRect.top + fromRect.height / 2 - mapRect.top;
  const endX = toRect.left + toRect.width / 2 - mapRect.left;
  const endY = toRect.top + toRect.height / 2 - mapRect.top;

  // å‰µå»º SVG line
  const svg = document.getElementById("pathLayer");
  const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
  line.setAttribute("x1", startX);
  line.setAttribute("y1", startY);
  line.setAttribute("x2", endX);
  line.setAttribute("y2", endY);
  line.setAttribute("stroke", "red");
  line.setAttribute("stroke-width", "2");
  line.setAttribute("marker-end", isRelocateMode ? "url(#move-arrowhead)" : "url(#arrowhead)");

  svg.appendChild(line);
}

//å›é€€ä¸€æ­¥1129
const undoBtn = document.getElementById("undoStep");
undoBtn.addEventListener("click", () => {
  if (selectedCities.length > 0) {
    const removed = selectedCities.pop(); // â¬…ï¸ æ‹¿æ‰æœ€å¾Œä¸€å€‹

    // ğŸ‘‰ å¦‚æœæ˜¯æ¬å®¶é»ï¼Œå°±æŠŠå°æˆ¿å­åœ–ç¤ºç§»é™¤
    if (removed.isRelocate) {
      const icon = removed.element.querySelector(".relocate-icon");
      if (icon) icon.remove();
    }

    // ğŸ”¥ æ¸…é™¤æ‰€æœ‰ç®­é ­ (ä¿ç•™ <defs>)
    const svg1 = document.getElementById("pathLayer");
    svg1.querySelectorAll("svg").forEach(el => el.remove());

    // ğŸ” é‡ç•«å‰©ä¸‹çš„è·¯ç·š
    for (let i = 1; i < selectedCities.length; i++) {
      drawArrowBetween(selectedCities[i - 1], selectedCities[i]);
    }

    updateSimulationStatus();
  }
});

/*
//å›é€€ä¸€æ­¥
const undoBtn = document.getElementById("undoStep");

undoBtn.addEventListener("click", () => {
  if (selectedCities.length > 0) {
    selectedCities.pop(); // æ‹¿æ‰æœ€å¾Œä¸€å€‹åŸå¸‚
	

    }

    // æ¸…ç©ºæ‰€æœ‰ç®­é ­
	    const svg1 = document.getElementById("pathLayer");
	
	// ğŸ”¥ æ¸…é™¤æ‰€æœ‰ç®­é ­ç·š
svg1.querySelectorAll("line").forEach(el => el.remove());

// âœ… é€™è¡Œè¦–æƒ…æ³ä¿ç•™ï¼Œé¿å…ç´¯ç©ç©ºçš„ <svg>ï¼Œä½†ä¸æ˜¯å¿…è¦
svg1.querySelectorAll("svg").forEach(el => el.remove());
/*
    const svg1 = document.getElementById("pathLayer");
	svg1.querySelectorAll("svg").forEach(el => el.remove());
    //svg1.innerHTML = "";
	

    // é‡æ–°ç•«ç›®å‰å‰©ä¸‹çš„ç®­é ­
    for (let i = 1; i < selectedCities.length; i++) {
      drawArrowBetween(selectedCities[i - 1], selectedCities[i]);
    }

    updateSimulationStatus(); // æ›´æ–°é¡¯ç¤ºè·¯ç·šæ–‡å­—
  }
});

*/
/*
// å›é€€ä¸€æ­¥
const undoBtn = document.getElementById("undoStep");

undoBtn.addEventListener("click", () => {
  if (selectedCities.length > 0) {
    selectedCities.pop(); // ç§»é™¤æœ€å¾Œä¸€å€‹åŸå¸‚

   const svg1 = document.getElementById("pathLayer");

// ğŸ”¥ æ¸…é™¤æ‰€æœ‰ç®­é ­ç·š (ä¿ç•™ <defs>)
svg1.querySelectorAll("svg").forEach(el => el.remove());

// ğŸ” é‡ç•«ç›®å‰å‰©ä¸‹çš„ç®­é ­
for (let i = 1; i < selectedCities.length; i++) {
  drawArrowBetween(selectedCities[i - 1], selectedCities[i]);
}
    updateSimulationStatus(); // æ›´æ–°ç‹€æ…‹åˆ—
  }
});
*/


//æ¸…é™¤å…¨éƒ¨ç®­é ­
document.getElementById("resetSimulation").addEventListener("click", () => {
  // 1. æ¸…é™¤å·²é¸åŸå¸‚
  selectedCities.length = 0;

  // 2. æ¸…é™¤æ‰€æœ‰ç®­é ­
  const svg2 = document.getElementById("pathLayer");
   svg2.querySelectorAll("line").forEach(line => line.remove());
   
// âœ… å¦‚æœæœ‰æ¬å®¶é»ç”¨ path ç•«ï¼Œä¹Ÿå¯ä»¥é€™æ¨£åˆª path
  //svg2.querySelectorAll("path.relocate-line").forEach(path => path.remove());
  // ğŸ”„ æ¸…é™¤æ‰€æœ‰æ¬å®¶åœ–ç¤º
document.querySelectorAll(".relocate-icon").forEach(icon => icon.remove());



  // 3. æ¸…ç©ºç‹€æ…‹æ¬„ï¼ˆå¦‚æœæœ‰ï¼‰
  const statusBar = document.getElementById("simulationStatus");
  if (statusBar) statusBar.innerText = "ç›®å‰é€²æ”»è·¯ç·šï¼š";
});


//æ¬å®¶æ¨¡å¼

let isRelocateMode = false;

const relocateModeBtn = document.getElementById("relocateModeBtn");

relocateModeBtn.addEventListener("click", () => {
  isRelocateMode = !isRelocateMode;

  relocateModeBtn.innerText = isRelocateMode
    ? "ğŸš§ çµæŸæ¬å®¶æ¨¡å¼"
    : "ğŸ  è¨­å®šæ¬å®¶é»";
});

/*
let selectedCities3 = [];

const cities3 = document.querySelectorAll(".city");
const relocateBtn = document.getElementById("relocateModeBtn");
const resetBtn = document.getElementById("resetSimulation");

// åˆ‡æ›æ¬å®¶æ¨¡å¼
relocateBtn.addEventListener("click", () => {
  isRelocateMode = true;
  relocateBtn.innerText = "ğŸ  é»é¸æ¬å®¶é»";
  relocateBtn.disabled = true; // ä¸€æ¬¡åªèƒ½é¸ä¸€å€‹ï¼Œé˜²æ­¢èª¤è§¸
});

// åŸå¸‚é»é¸äº‹ä»¶
cities3.forEach(city => {
  city.addEventListener("click", () => {
    if (isRelocateMode) {
      // æ¬å®¶æ¨¡å¼ï¼šæ¨™è¨˜æ¬å®¶é»ï¼Œä¸æ¸…é™¤èˆŠçš„
      if (!city.classList.contains("relocate-city")) {
        city.classList.add("relocate-city");

        const marker = document.createElement("div");
        marker.classList.add("relocate-mark");
        marker.innerText = "ğŸ ";
        city.appendChild(marker);
      }

      // è‡ªå‹•åŠ å…¥é€²æ”»è·¯ç·š
      if (!selectedCities3.includes(city)) {
        selectedCities3.push(city);
      }

      isRelocateMode = false;
      relocateBtn.innerText = "ğŸ  æ¬å®¶æ¨¡å¼";
      relocateBtn.disabled = false;
      updateSimulationStatus();
      return;
    }

    // é€²æ”»æ¨¡å¼
    if (!selectedCities3.includes(city)) {
      selectedCities3.push(city);
      if (selectedCities3.length >= 2) {
        drawArrowBetween(
          selectedCities3[selectedCities3.length - 2],
          city
        );
      }
      updateSimulationStatus();
    }
  });
});
*/

// ç•«ç®­é ­ (ç”¨ SVG)

function drawArrowBetween(from, to) {
  const pathLayer = document.getElementById("pathLayer");
  const map = document.getElementById("map");
  
  const fromEl = from.element;
  const toEl = to.element;

  const fromRect = fromEl.getBoundingClientRect();
  const toRect = toEl.getBoundingClientRect();
  const mapRect = map.getBoundingClientRect(); // åŸºæº–åº§æ¨™

  // å–å¾— from/to ç›¸å°æ–¼ map-container çš„ä¸­å¿ƒä½ç½®
  const x1 = fromRect.left - mapRect.left + fromRect.width / 2;
  const y1 = fromRect.top - mapRect.top + fromRect.height / 2;
  const x2 = toRect.left - mapRect.left + toRect.width / 2;
  const y2 = toRect.top - mapRect.top + toRect.height / 2;

  const svg3 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
  /*
  svg3.setAttribute("class", "arrow-path");
  svg3.style.position = "absolute";
  svg3.style.top = "0";
  svg3.style.left = "0";
  svg3.setAttribute("width", "100%");
  svg3.setAttribute("height", "100%");
  svg3.style.overflow = "visible";
  svg3.style.zIndex = "10";
  svg3.style.pointerEvents = "none";
  */
  

  const arrow = document.createElementNS("http://www.w3.org/2000/svg", "line");
  arrow.setAttribute("x1", x1);
  arrow.setAttribute("y1", y1);
  arrow.setAttribute("x2", x2);
  arrow.setAttribute("y2", y2);
  
  arrow.setAttribute("stroke", "red");
  arrow.setAttribute("stroke-width", "2");
  //ä¾æ“šéœ€æ±‚æ›ç·šæ¢

if (to.isRelocate) {
  arrow.setAttribute("stroke", "blue");
  arrow.setAttribute("stroke-dasharray", "5,5"); // è™›ç·š
  arrow.setAttribute("stroke-width", "3");
    console.log("ğŸ  ç•«æ¬å®¶ç®­é ­");
} else {
  arrow.setAttribute("stroke", "red");
  arrow.setAttribute("stroke-width", "2");
  console.log("âš”ï¸ ç•«é€²æ”»ç®­é ­");
}

 // arrow.setAttribute("marker-end", isRelocateMode ? "url(#move-arrowhead)" : "url(#arrowhead)");
   //arrow.setAttribute("marker-end", "url(#arrowhead)");
    arrow.setAttribute("marker-end", to.isRelocate ? "url(#move-arrowhead)" : "url(#arrowhead)");
   console.log("âœ… arrowhead è¢«è¨­å®šé€²å»äº†");


  svg3.appendChild(arrow);
  pathLayer.appendChild(svg3);
   //pathLayer.appendChild(arrow);
}



// é¡¯ç¤ºè·¯ç·šç‹€æ…‹
function updateSimulationStatus() {
  const statusBar = document.getElementById("simulationStatus");
  if (!statusBar) return;

  const labels = selectedCities.map(item =>
    item.isRelocate
      ? `(æ¬å®¶) ${item.element.dataset.name}`
      : item.element.dataset.name
  );

  statusBar.innerText = `ç›®å‰é€²æ”»è·¯ç·šï¼š${labels.join(" â ")}`;
}

/*
function updateSimulationStatus() {
  const display = selectedCities.map(c => {
    const name = c.dataset.name;
    return c.classList.contains("relocate-city") ? `(æ¬å®¶)${name}` : name;
  }).join(" â†’ ");

  document.getElementById("simulationStatus").innerText = `ç›®å‰é€²æ”»è·¯ç·šï¼š${display}`;
}
*/
/*
// é‡è¨­
const resetBtn2 = document.getElementById("resetSimulation");
const pathLayer2 = document.getElementById("pathLayer");

resetBtn2.addEventListener("click", () => {
  //selectedCities = [];
  //relocationCities = [];
  selectedCities.length = 0;
 // selectedCities3.length = 0;
  updateSimulationStatus();

  // ç§»é™¤æ‰€æœ‰è·¯ç·šç®­é ­
  while (pathLayer2.firstChild) {
    pathLayer2.removeChild(pathLayer.firstChild);
  }

  // ç§»é™¤æ¬å®¶åœ–ç¤º
  document.querySelectorAll(".relocation-icon").forEach(icon => icon.remove());
});

*/
</script>




</script>





<script>
  // å–å¾—ç•¶å‰æ™‚é–“
  function getCurrentDateTime() {
    const now = new Date();
    const year = now.getFullYear();
    const month = (now.getMonth() + 1).toString().padStart(2, '0');
    const day = now.getDate().toString().padStart(2, '0');
    const hours = now.getHours().toString().padStart(2, '0');
    const minutes = now.getMinutes().toString().padStart(2, '0');
    const seconds = now.getSeconds().toString().padStart(2, '0');

    return `${year}-${month}-${day} `;
  }

  // æ›´æ–°é¡¯ç¤ºç•¶å‰æ™‚é–“çš„å…ƒç´ 
  function updateCurrentDateTime() {
    const nowDatetimeElement = document.getElementById('now-datetime');
    if (nowDatetimeElement) {
      nowDatetimeElement.textContent = getCurrentDateTime();
    }
  }

  // åˆå§‹è¨­å®š
  updateCurrentDateTime();

  // æ¯ç§’æ›´æ–°ä¸€æ¬¡æ™‚é–“
  setInterval(updateCurrentDateTime, 1000);
</script>
</body>
</html>
